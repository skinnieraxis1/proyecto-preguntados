CREATE DATABASE incognitiva;
use incognitiva; 

create table generos(
	id int(11) AUTO_INCREMENT,
    nombres varchar(60),
    createAt date,
    updateAt date,
    PRIMARY KEY(id)
);

create table cuestionarios(
	id int(11) AUTO_INCREMENT,
    tematica varchar(60),
    genero int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(id),
   	FOREIGN KEY(genero) REFERENCES generos(id)
);

create table preguntas(
	id int(11) AUTO_INCREMENT,
    descripcion text,
    puntaje int(11),
    tipo varchar(11),
    cuestionario int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(id),
    FOREIGN KEY(cuestionario) REFERENCES cuestionarios(id)
);

create TABLE respuestas(
	id int(11) AUTO_INCREMENT,
    descripcion text,
    correcta boolean,
    pregunta int(11),
    PRIMARY KEY(id),
    FOREIGN KEY(pregunta) REFERENCES preguntas(id)
);

CREATE TABLE usuarios(
    nombre VARCHAR(40),
    email VARCHAR(60) ,
    contrase√±a VARCHAR(40),
    createAt date,
    updateAt date,
    PRIMARY KEY(email)
);

create TABLE partidas(
	codigo varchar(9),
    cantJugadores int(3),
    publicaPriv boolean,
    cuestionario int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(codigo),
    FOREIGN KEY(cuestionario) REFERENCES cuestionarios(id)
);

create TABLE jugar(
    id int(11) AUTO_INCREMENT,
	partida varchar(9),
    usuario VARCHAR(60),
    conectado boolean,
    puntajeJugador int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(id),
    FOREIGN KEY(usuario) REFERENCES usuarios(email),
    FOREIGN KEY(partida) REFERENCES partidas(codigo)
);
