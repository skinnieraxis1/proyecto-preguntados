CREATE DATABASE incognitiva;
use incognitiva; 

create table genero(
	id int(11) AUTO_INCREMENT,
    nombres varchar(60),
    createAt date,
    updateAt date,
    PRIMARY KEY(id)
);

create table cuestionario(
	id int(11) AUTO_INCREMENT,
    tematica varchar(60),
    genero int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(id),
   	FOREIGN KEY(genero) REFERENCES genero(id)
);

create table pregunta(
	id int(11) AUTO_INCREMENT,
    descripcion text,
    puntaje int(11),
    tipo varchar(11),
    cuestionario int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(id),
    FOREIGN KEY(cuestionario) REFERENCES cuestionario(id)
);

create TABLE respuesta(
	id int(11) AUTO_INCREMENT,
    descripcion text,
    correcta boolean,
    pregunta int(11),
    PRIMARY KEY(id),
    FOREIGN KEY(pregunta) REFERENCES pregunta(id)
);

CREATE TABLE usuario(
    nombre VARCHAR(40),
    email VARCHAR(60) ,
    contrase√±a VARCHAR(40),
    createAt date,
    updateAt date,
    PRIMARY KEY(email)
);

create TABLE partida(
	codigo varchar(9),
    cantJugadores int(3),
    publicaPriv boolean,
    cuestionario int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(codigo),
    FOREIGN KEY(cuestionario) REFERENCES cuestionario(id)
);

create TABLE jugar(
    id int(11) AUTO_INCREMENT,
	partida varchar(9),
    usuario VARCHAR(60),
    conectado boolean,
    puntajeJugador int(11),
    createAt date,
    updateAt date,
    PRIMARY KEY(id),
    FOREIGN KEY(usuario) REFERENCES usuario(email),
    FOREIGN KEY(partida) REFERENCES partida(codigo)
);
